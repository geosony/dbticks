==================
# Time: 2020-12-10T14:37:36.986716Z
# User@Host: c9R3p1atF0rm[c9R3p1atF0rm] @ [172.20.2.136] Id: 4080940
# Query_time: 30.517756 Lock_time: 0.001224 Rows_sent: 16 Rows_examined: 14309992
use careplatformzh;
SET timestamp=1607611056;
SELECT CONCAT_WS(',',pa.title,pa.fname,pa.mname,pa.lname) AS patient_name,pa.title AS title_name,pa.fname AS first_name,pa.mname AS middle_name,pa.lname AS last_name, po_result_file_url, po_patient_id,po_encounter_id, po_lab_id, pp_remote_host, pp_local_requisition, pp_login, pp_password, po_order_status, po.po_procedure_order_id,po.po_review_comments, po_date_ordered, poc_procedure_order_seq,po_reviewed_date,po_signed_date, pt1.pt_procedure_type_id AS order_type_id, poc_procedure_name, pr_procedure_report_id, pr_date_report, pr_date_collected, pr_specimen_num, pr_report_status, pr_review_status,CONCAT_WS('',poc_procedure_code,poc_procedure_suffix) AS proc_code,po_return_comments,po_reviewed_by,po_signed_by,pp_mirth_lab_id,pp_name,pp_protocol,po_fax_sent,pp_fax_type,fe_program,fe.fe_subprogram ,pt1.pt_procedure_type, pt1.pt_procedure_code, pt1.pt_units AS pt2_units,pt1.pt_standard_code, pt1.pt_range AS pt2_range, pt1.pt_procedure_type_id AS procedure_type_id,pt2.`pt_standard_code` AS grp_standard_code,pc.`poc_grp_id`,pc.poc_is_grp,pc.poc_result_in_order, pt1.pt_name AS name, pt1.pt_description, pt1.pt_seq AS seq, ps.prs_procedure_result_id, ps.prs_result_code AS result_code, ps.prs_result_text, ps.prs_abnormal, ps.prs_result,ps.prs_range, ps.prs_result_status as Mresult_status, ps.prs_facility, ps.prs_comments, ps.prs_units, ps.prs_comments as Mcomments,ps.prs_order_title as Morder_title,ps.prs_profile_title as Mprofile_title,ps.prs_code_suffix as Mcode_suffix, ps.prs_result_pulled_on as prs_result_pulled_on, ps.prs_date as Mresult_date , psr_procedure_subtest_result_id,psr_result_pulled_on,psr_result_time,
psr_subtest_code,
psr_subtest_desc AS sub_result_text,
psr_result_value AS sub_result,
psr_facility AS sub_facility,
psr_abnormal_flag AS sub_abnormal,
psr_units AS sub_units,
psr_range AS sub_range,psr_comments as comments,psr_order_title as order_title,psr_profile_title as profile_title,psr_code_suffix as code_suffix,psr_result_status as result_status ,pgm.pgm_name,pgm_parent.pgm_name AS parent FROM zhemr_procedure_order AS po JOIN zhemr_procedure_order_code AS pc ON pc.poc_procedure_order_id = po.po_procedure_order_id LEFT JOIN zhemr_procedure_report AS pr ON pr.pr_procedure_order_id = po.po_procedure_order_id AND pr.pr_procedure_order_seq = pc.poc_procedure_order_seq LEFT JOIN zhemr_procedure_result ps ON ps.prs_procedure_report_id = pr.pr_procedure_report_id LEFT JOIN zhemr_procedure_subtest_result AS psr ON psr.psr_procedure_report_id = pr.pr_procedure_report_id JOIN zhemr_procedure_providers AS pp ON pp.pp_ppid=po.po_lab_id JOIN zhemr_procedure_type AS pt1 ON pt1.pt_lab_id = po.po_lab_id AND pt1.pt_procedure_code = pc.poc_procedure_code JOIN zhemr_patient_data AS pa ON pa.pd_pid=po.po_patient_id JOIN `zhemr_form_encounter` AS fe ON fe.fe_encounter = po.po_encounter_id AND fe.fe_activity = 1 LEFT JOIN zhemr_procedure_type pt2 ON pc.`poc_grp_id` = pt2.`pt_procedure_type_id` LEFT JOIN `zhemr_program` AS pgm ON pgm.`pgm_id` = fe.`fe_subprogram` LEFT JOIN zhemr_program AS pgm_parent ON pgm_parent.pgm_id = fe.fe_program JOIN (SELECT po.po_procedure_order_id,CONCAT_WS('',poc_procedure_code,poc_procedure_suffix) AS proc_code FROM zhemr_procedure_order AS po JOIN zhemr_procedure_order_code AS pc ON pc.poc_procedure_order_id = po.po_procedure_order_id LEFT JOIN zhemr_procedure_report AS pr ON pr.pr_procedure_order_id = po.po_procedure_order_id AND pr.pr_procedure_order_seq = pc.poc_procedure_order_seq LEFT JOIN zhemr_procedure_result ps ON ps.prs_procedure_report_id = pr.pr_procedure_report_id LEFT JOIN zhemr_procedure_subtest_result AS psr ON psr.psr_procedure_report_id = pr.pr_procedure_report_id JOIN zhemr_procedure_providers AS pp ON pp.pp_ppid=po.po_lab_id JOIN zhemr_form_encounter AS fe ON fe.fe_encounter = po_encounter_id LEFT JOIN `zhemr_program` AS pgm ON pgm.`pgm_id` = fe.`fe_subprogram` LEFT JOIN zhemr_program AS pgm_parent ON pgm_parent.pgm_id = fe.fe_program JOIN zhemr_procedure_type AS pt1 ON pt1.pt_lab_id = po.po_lab_id AND pt1.pt_procedure_code = pc.poc_procedure_code WHERE 1 = 1 AND po.po_draft = 0 AND ( ps.prs_procedure_report_id = pr.pr_procedure_report_id OR (( pp_remote_host != '' AND pp_login != '' AND pp_password != ''))) AND (( CASE WHEN pt1.pt_program_name IS NOT NULL THEN (FIND_IN_SET(6, pt1.pt_program_name)) OR (FIND_IN_SET(7, pt1.pt_program_name)) OR (FIND_IN_SET(8, pt1.pt_program_name)) OR (FIND_IN_SET(9, pt1.pt_program_name)) OR (FIND_IN_SET(10, pt1.pt_program_name)) OR (FIND_IN_SET(11, pt1.pt_program_name)) OR (FIND_IN_SET(12, pt1.pt_program_name)) OR (FIND_IN_SET(13, pt1.pt_program_name)) OR (FIND_IN_SET(5, pt1.pt_program_name)) OR (po.po_provider_id = '223') END ) OR pt1.pt_program_name = '' OR pt1.pt_program_name IS NULL) GROUP BY po.po_procedure_order_id ORDER BY po.po_procedure_order_id DESC,pc.poc_procedure_order_seq, pr.pr_procedure_report_id, proc_code, po.po_date_ordered, pr.pr_procedure_order_seq LIMIT 0,10 ) AS po3 ON po3.po_procedure_order_id = po.po_procedure_order_id WHERE 1=1
AND (( CASE WHEN pt1.pt_program_name IS NOT NULL THEN (FIND_IN_SET(6, pt1.pt_program_name)) OR (FIND_IN_SET(7, pt1.pt_program_name)) OR (FIND_IN_SET(8, pt1.pt_program_name)) OR (FIND_IN_SET(9, pt1.pt_program_name)) OR (FIND_IN_SET(10, pt1.pt_program_name)) OR (FIND_IN_SET(11, pt1.pt_program_name)) OR (FIND_IN_SET(12, pt1.pt_program_name)) OR (FIND_IN_SET(13, pt1.pt_program_name)) OR (FIND_IN_SET(5, pt1.pt_program_name)) OR (po.po_provider_id = '223') END ) OR pt1.pt_program_name = '' OR pt1.pt_program_name IS NULL) ORDER BY po.po_procedure_order_id DESC,pc.poc_procedure_order_seq, pr.pr_procedure_report_id, proc_code, po.po_date_ordered, pr.pr_procedure_order_seq;
==================
# Time: 2020-12-10T14:38:04.443458Z
# User@Host: c9R3p1atF0rm[c9R3p1atF0rm] @ [172.20.2.136] Id: 4080940
# Query_time: 27.455609 Lock_time: 0.000257 Rows_sent: 1 Rows_examined: 15957043
SET timestamp=1607611084;
SELECT COUNT(*) AS cnt FROM (SELECT COUNT(po.po_procedure_order_id) FROM zhemr_procedure_order AS po JOIN zhemr_procedure_order_code AS pc ON pc.poc_procedure_order_id = po.po_procedure_order_id LEFT JOIN zhemr_procedure_report AS pr ON pr.pr_procedure_order_id = po.po_procedure_order_id AND pr.pr_procedure_order_seq = pc.poc_procedure_order_seq LEFT JOIN zhemr_procedure_result ps ON ps.prs_procedure_report_id = pr.pr_procedure_report_id LEFT JOIN zhemr_procedure_subtest_result AS psr ON psr.psr_procedure_report_id = pr.pr_procedure_report_id JOIN zhemr_procedure_providers AS pp ON pp.pp_ppid=po.po_lab_id JOIN zhemr_form_encounter AS fe ON fe.fe_encounter = po_encounter_id LEFT JOIN `zhemr_program` AS pgm ON pgm.`pgm_id` = fe.`fe_subprogram` LEFT JOIN zhemr_program AS pgm_parent ON pgm_parent.pgm_id = fe.fe_program JOIN zhemr_procedure_type AS pt1 ON pt1.pt_lab_id = po.po_lab_id AND pt1.pt_procedure_code = pc.poc_procedure_code WHERE 1 = 1 AND po.po_draft = 0 AND ( ps.prs_procedure_report_id = pr.pr_procedure_report_id OR (( pp_remote_host != '' AND pp_login != '' AND pp_password != ''))) AND (( CASE WHEN pt1.pt_program_name IS NOT NULL THEN (FIND_IN_SET(6, pt1.pt_program_name)) OR (FIND_IN_SET(7, pt1.pt_program_name)) OR (FIND_IN_SET(8, pt1.pt_program_name)) OR (FIND_IN_SET(9, pt1.pt_program_name)) OR (FIND_IN_SET(10, pt1.pt_program_name)) OR (FIND_IN_SET(11, pt1.pt_program_name)) OR (FIND_IN_SET(12, pt1.pt_program_name)) OR (FIND_IN_SET(13, pt1.pt_program_name)) OR (FIND_IN_SET(5, pt1.pt_program_name)) OR (po.po_provider_id = '223') END ) OR pt1.pt_program_name = '' OR pt1.pt_program_name IS NULL) GROUP BY po.po_procedure_order_id ) as v2;
==================
# Time: 2020-12-10T14:38:34.089278Z
# User@Host: c9R3p1atF0rm[c9R3p1atF0rm] @ [172.20.2.136] Id: 4081586
# Query_time: 28.792200 Lock_time: 0.001198 Rows_sent: 16 Rows_examined: 14309992
SET timestamp=1607611114;
SELECT CONCAT_WS(',',pa.title,pa.fname,pa.mname,pa.lname) AS patient_name,pa.title AS title_name,pa.fname AS first_name,pa.mname AS middle_name,pa.lname AS last_name, po_result_file_url, po_patient_id,po_encounter_id, po_lab_id, pp_remote_host, pp_local_requisition, pp_login, pp_password, po_order_status, po.po_procedure_order_id,po.po_review_comments, po_date_ordered, poc_procedure_order_seq,po_reviewed_date,po_signed_date, pt1.pt_procedure_type_id AS order_type_id, poc_procedure_name, pr_procedure_report_id, pr_date_report, pr_date_collected, pr_specimen_num, pr_report_status, pr_review_status,CONCAT_WS('',poc_procedure_code,poc_procedure_suffix) AS proc_code,po_return_comments,po_reviewed_by,po_signed_by,pp_mirth_lab_id,pp_name,pp_protocol,po_fax_sent,pp_fax_type,fe_program,fe.fe_subprogram ,pt1.pt_procedure_type, pt1.pt_procedure_code, pt1.pt_units AS pt2_units,pt1.pt_standard_code, pt1.pt_range AS pt2_range, pt1.pt_procedure_type_id AS procedure_type_id,pt2.`pt_standard_code` AS grp_standard_code,pc.`poc_grp_id`,pc.poc_is_grp,pc.poc_result_in_order, pt1.pt_name AS name, pt1.pt_description, pt1.pt_seq AS seq, ps.prs_procedure_result_id, ps.prs_result_code AS result_code, ps.prs_result_text, ps.prs_abnormal, ps.prs_result,ps.prs_range, ps.prs_result_status as Mresult_status, ps.prs_facility, ps.prs_comments, ps.prs_units, ps.prs_comments as Mcomments,ps.prs_order_title as Morder_title,ps.prs_profile_title as Mprofile_title,ps.prs_code_suffix as Mcode_suffix, ps.prs_result_pulled_on as prs_result_pulled_on, ps.prs_date as Mresult_date , psr_procedure_subtest_result_id,psr_result_pulled_on,psr_result_time,
psr_subtest_code,
psr_subtest_desc AS sub_result_text,
psr_result_value AS sub_result,
psr_facility AS sub_facility,
psr_abnormal_flag AS sub_abnormal,
psr_units AS sub_units,
psr_range AS sub_range,psr_comments as comments,psr_order_title as order_title,psr_profile_title as profile_title,psr_code_suffix as code_suffix,psr_result_status as result_status ,pgm.pgm_name,pgm_parent.pgm_name AS parent FROM zhemr_procedure_order AS po JOIN zhemr_procedure_order_code AS pc ON pc.poc_procedure_order_id = po.po_procedure_order_id LEFT JOIN zhemr_procedure_report AS pr ON pr.pr_procedure_order_id = po.po_procedure_order_id AND pr.pr_procedure_order_seq = pc.poc_procedure_order_seq LEFT JOIN zhemr_procedure_result ps ON ps.prs_procedure_report_id = pr.pr_procedure_report_id LEFT JOIN zhemr_procedure_subtest_result AS psr ON psr.psr_procedure_report_id = pr.pr_procedure_report_id JOIN zhemr_procedure_providers AS pp ON pp.pp_ppid=po.po_lab_id JOIN zhemr_procedure_type AS pt1 ON pt1.pt_lab_id = po.po_lab_id AND pt1.pt_procedure_code = pc.poc_procedure_code JOIN zhemr_patient_data AS pa ON pa.pd_pid=po.po_patient_id JOIN `zhemr_form_encounter` AS fe ON fe.fe_encounter = po.po_encounter_id AND fe.fe_activity = 1 LEFT JOIN zhemr_procedure_type pt2 ON pc.`poc_grp_id` = pt2.`pt_procedure_type_id` LEFT JOIN `zhemr_program` AS pgm ON pgm.`pgm_id` = fe.`fe_subprogram` LEFT JOIN zhemr_program AS pgm_parent ON pgm_parent.pgm_id = fe.fe_program JOIN (SELECT po.po_procedure_order_id,CONCAT_WS('',poc_procedure_code,poc_procedure_suffix) AS proc_code FROM zhemr_procedure_order AS po JOIN zhemr_procedure_order_code AS pc ON pc.poc_procedure_order_id = po.po_procedure_order_id LEFT JOIN zhemr_procedure_report AS pr ON pr.pr_procedure_order_id = po.po_procedure_order_id AND pr.pr_procedure_order_seq = pc.poc_procedure_order_seq LEFT JOIN zhemr_procedure_result ps ON ps.prs_procedure_report_id = pr.pr_procedure_report_id LEFT JOIN zhemr_procedure_subtest_result AS psr ON psr.psr_procedure_report_id = pr.pr_procedure_report_id JOIN zhemr_procedure_providers AS pp ON pp.pp_ppid=po.po_lab_id JOIN zhemr_form_encounter AS fe ON fe.fe_encounter = po_encounter_id LEFT JOIN `zhemr_program` AS pgm ON pgm.`pgm_id` = fe.`fe_subprogram` LEFT JOIN zhemr_program AS pgm_parent ON pgm_parent.pgm_id = fe.fe_program JOIN zhemr_procedure_type AS pt1 ON pt1.pt_lab_id = po.po_lab_id AND pt1.pt_procedure_code = pc.poc_procedure_code WHERE 1 = 1 AND po.po_draft = 0 AND ( ps.prs_procedure_report_id = pr.pr_procedure_report_id OR (( pp_remote_host != '' AND pp_login != '' AND pp_password != ''))) AND (( CASE WHEN pt1.pt_program_name IS NOT NULL THEN (FIND_IN_SET(6, pt1.pt_program_name)) OR (FIND_IN_SET(7, pt1.pt_program_name)) OR (FIND_IN_SET(8, pt1.pt_program_name)) OR (FIND_IN_SET(9, pt1.pt_program_name)) OR (FIND_IN_SET(10, pt1.pt_program_name)) OR (FIND_IN_SET(11, pt1.pt_program_name)) OR (FIND_IN_SET(12, pt1.pt_program_name)) OR (FIND_IN_SET(13, pt1.pt_program_name)) OR (FIND_IN_SET(5, pt1.pt_program_name)) OR (po.po_provider_id = '223') END ) OR pt1.pt_program_name = '' OR pt1.pt_program_name IS NULL) GROUP BY po.po_procedure_order_id ORDER BY po.po_procedure_order_id DESC,pc.poc_procedure_order_seq, pr.pr_procedure_report_id, proc_code, po.po_date_ordered, pr.pr_procedure_order_seq LIMIT 0,10 ) AS po3 ON po3.po_procedure_order_id = po.po_procedure_order_id WHERE 1=1
AND (( CASE WHEN pt1.pt_program_name IS NOT NULL THEN (FIND_IN_SET(6, pt1.pt_program_name)) OR (FIND_IN_SET(7, pt1.pt_program_name)) OR (FIND_IN_SET(8, pt1.pt_program_name)) OR (FIND_IN_SET(9, pt1.pt_program_name)) OR (FIND_IN_SET(10, pt1.pt_program_name)) OR (FIND_IN_SET(11, pt1.pt_program_name)) OR (FIND_IN_SET(12, pt1.pt_program_name)) OR (FIND_IN_SET(13, pt1.pt_program_name)) OR (FIND_IN_SET(5, pt1.pt_program_name)) OR (po.po_provider_id = '223') END ) OR pt1.pt_program_name = '' OR pt1.pt_program_name IS NULL) ORDER BY po.po_procedure_order_id DESC,pc.poc_procedure_order_seq, pr.pr_procedure_report_id, proc_code, po.po_date_ordered, pr.pr_procedure_order_seq;
==================
# Time: 2020-12-10T14:39:01.947852Z
# User@Host: c9R3p1atF0rm[c9R3p1atF0rm] @ [172.20.2.136] Id: 4081586
# Query_time: 27.857449 Lock_time: 0.000311 Rows_sent: 1 Rows_examined: 15957043
SET timestamp=1607611141;
SELECT COUNT(*) AS cnt FROM (SELECT COUNT(po.po_procedure_order_id) FROM zhemr_procedure_order AS po JOIN zhemr_procedure_order_code AS pc ON pc.poc_procedure_order_id = po.po_procedure_order_id LEFT JOIN zhemr_procedure_report AS pr ON pr.pr_procedure_order_id = po.po_procedure_order_id AND pr.pr_procedure_order_seq = pc.poc_procedure_order_seq LEFT JOIN zhemr_procedure_result ps ON ps.prs_procedure_report_id = pr.pr_procedure_report_id LEFT JOIN zhemr_procedure_subtest_result AS psr ON psr.psr_procedure_report_id = pr.pr_procedure_report_id JOIN zhemr_procedure_providers AS pp ON pp.pp_ppid=po.po_lab_id JOIN zhemr_form_encounter AS fe ON fe.fe_encounter = po_encounter_id LEFT JOIN `zhemr_program` AS pgm ON pgm.`pgm_id` = fe.`fe_subprogram` LEFT JOIN zhemr_program AS pgm_parent ON pgm_parent.pgm_id = fe.fe_program JOIN zhemr_procedure_type AS pt1 ON pt1.pt_lab_id = po.po_lab_id AND pt1.pt_procedure_code = pc.poc_procedure_code WHERE 1 = 1 AND po.po_draft = 0 AND ( ps.prs_procedure_report_id = pr.pr_procedure_report_id OR (( pp_remote_host != '' AND pp_login != '' AND pp_password != ''))) AND (( CASE WHEN pt1.pt_program_name IS NOT NULL THEN (FIND_IN_SET(6, pt1.pt_program_name)) OR (FIND_IN_SET(7, pt1.pt_program_name)) OR (FIND_IN_SET(8, pt1.pt_program_name)) OR (FIND_IN_SET(9, pt1.pt_program_name)) OR (FIND_IN_SET(10, pt1.pt_program_name)) OR (FIND_IN_SET(11, pt1.pt_program_name)) OR (FIND_IN_SET(12, pt1.pt_program_name)) OR (FIND_IN_SET(13, pt1.pt_program_name)) OR (FIND_IN_SET(5, pt1.pt_program_name)) OR (po.po_provider_id = '223') END ) OR pt1.pt_program_name = '' OR pt1.pt_program_name IS NULL) GROUP BY po.po_procedure_order_id ) as v2;
==================
